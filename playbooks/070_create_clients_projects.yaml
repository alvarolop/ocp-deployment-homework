---
- name: Create clients projects
  hosts: localhost
  tasks:
    - name: Create a common project
      command: "oc new-project common-project"

    - name: Create Alpha corp project
      command: "oc adm new-project alpha-project --display-name='Alpha Corp' --node-selector='client=aplha'"

    - name: Create Beta corp project
      command: "oc adm new-project beta-project --display-name='Beta Corp' --node-selector='client=beta'"

- name: Create new users in openshift
  hosts: localhost
  tasks:
    - name: Add users to openshift
      command: "oc create -f ../templates/user_{{ item }}.yaml"
      with_items:
        - "alpha_Amy"
        - "alpha_Andrew"
        - "beta_Brian"
        - "beta_Betty"
